<!DOCTYPE html>
<html lang="en">

<head>
    <?php
    require_once $_SERVER['DOCUMENT_ROOT'] . '/include/head.php';
    ?>
    <title>Floreet- Contact</title>
</head>

<body>
    <?php require_once ROOT . '/include/header.php'; ?>
    <div class="main-container">
        <section class="contact">
            <section class="l-contact">
                <h2>About Floreet</h2>
                <p id="p1">
                    At <strong>Floreet</strong>, we believe every petal tells a story. Our mission is to bring the quiet elegance of nature into your everyday lifeâ€”one bloom at a time. Whether you're here to explore the language of flowers, discover seasonal favorites, or simply surround yourself with beauty, you're in the right place.
                </p>
                <p id="p2">
                    From delicate arrangements to heartfelt floral meanings, Floreet is more than just a website â€” itâ€™s a garden of emotions, creativity, and timeless inspiration. Crafted with love and designed for dreamers, our platform connects nature-lovers, creatives, and gentle souls across the world.
                </p>
                <p id="p3">
                    Weâ€™re constantly growing, just like our blooms â€” and weâ€™d love for you to be part of our journey. Let's flourish together. ðŸŒ¸
                </p>

                <ul class="socials">
                    <li class="icon-content">
                        <a href="https://github.com/modigarv4" target="_blank" tabindex="0">
                            <div class="filled"></div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                    d="M12 0C5.37 0 0 5.37 0 12a12 12 0 008.21 11.43c.6.11.82-.26.82-.58v-2.02c-3.34.73-4.04-1.61-4.04-1.61-.55-1.4-1.34-1.77-1.34-1.77-1.1-.75.08-.74.08-.74 1.22.09 1.86 1.26 1.86 1.26 1.08 1.85 2.83 1.31 3.52 1 .11-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.92 0-1.31.47-2.38 1.24-3.22-.12-.3-.54-1.52.12-3.17 0 0 1.01-.32 3.3 1.23a11.5 11.5 0 016 0c2.29-1.55 3.3-1.23 3.3-1.23.66 1.65.24 2.87.12 3.17.77.84 1.24 1.91 1.24 3.22 0 4.6-2.8 5.61-5.48 5.91.43.37.81 1.1.81 2.22v3.29c0 .32.22.7.83.58A12 12 0 0024 12c0-6.63-5.37-12-12-12z" />
                            </svg>
                            <div class="tooltip">GitHub</div>
                        </a>
                    </li>
                    <li class="icon-content">
                        <a href="https://www.instagram.com/garvoffsidee?igsh=MTEyems0OTEyMm9xZA==" target="_blank" tabindex="0">
                            <div class="filled"></div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                    d="M7.75 2A5.75 5.75 0 002 7.75v8.5A5.75 5.75 0 007.75 22h8.5A5.75 5.75 0 0022 16.25v-8.5A5.75 5.75 0 0016.25 2h-8.5zm0 1.5h8.5A4.25 4.25 0 0120.5 7.75v8.5a4.25 4.25 0 01-4.25 4.25h-8.5A4.25 4.25 0 013.5 16.25v-8.5A4.25 4.25 0 017.75 3.5zm8.75 2a.75.75 0 100 1.5.75.75 0 000-1.5zM12 7a5 5 0 100 10 5 5 0 000-10zm0 1.5a3.5 3.5 0 110 7 3.5 3.5 0 010-7z" />
                            </svg>
                            <div class="tooltip">Instagram</div>
                        </a>
                    </li>
                    <li class="icon-content">
                        <a href="http://linkedin.com/in/modigarv" target="_blank" tabindex="0">
                            <div class="filled"></div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M4.98 3.5C4.98 4.88 3.87 6 2.49 6S0 4.88 0 3.5 1.11 1 2.49 1s2.49 1.12 2.49 2.5zM.2 8h4.6v12H.2V8zm7.5 0h4.4v1.7h.1c.6-1.1 2-2.2 4.1-2.2 4.4 0 5.2 2.9 5.2 6.7v7.8h-4.6v-6.9c0-1.6 0-3.8-2.3-3.8s-2.7 1.8-2.7 3.6v7.1h-4.6V8z" />
                            </svg>
                            <div class="tooltip">LinkedIn</div>
                        </a>
                    </li>
                    <li class="icon-content">
                        <a href="https://pin.it/3duLDeeZ0" target="_blank" tabindex="0">
                            <div class="filled"></div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 0C5.37 0 0 5.37 0 12c0 4.99 3.04 9.26 7.36 11.06-.1-.94-.19-2.39.04-3.43.21-.91 1.36-5.78 1.36-5.78s-.35-.71-.35-1.76c0-1.64.95-2.87 2.14-2.87 1.01 0 1.5.76 1.5 1.67 0 1.01-.64 2.52-.97 3.92-.27 1.15.58 2.1 1.73 2.1 2.08 0 3.68-2.19 3.68-5.34 0-2.79-2.01-4.74-4.87-4.74-3.32 0-5.28 2.49-5.28 5.07 0 1.01.39 2.09.88 2.68.1.12.12.22.09.34-.1.37-.33 1.15-.38 1.31-.06.21-.2.26-.45.15-1.67-.78-2.71-3.24-2.71-5.21 0-4.24 3.08-8.13 8.88-8.13 4.66 0 8.29 3.32 8.29 7.75 0 4.63-2.92 8.36-6.98 8.36-1.37 0-2.65-.71-3.08-1.54l-.84 3.19c-.3 1.12-1.11 2.52-1.65 3.37C9.39 23.79 10.68 24 12 24c6.63 0 12-5.37 12-12S18.63 0 12 0z" />
                            </svg>
                            <div class="tooltip">Pinterest</div>
                        </a>
                    </li>

                </ul>
            </section>

            <section class="r-contact">
                <form class="contact-form" action="/backend/contact-handler.php" method="POST">
                    <h2 id="heading">Contact Us</h2>

                    <!-- Full Name -->
                    <div class="contact-field">
                        <i class="input-icon fa fa-user"></i>
                        <input type="text" id="name" name="name" class="input-field" placeholder="Full Name" required style="text-transform: capitalize;">
                        <span id="name-asterisk" class="asterisk">*</span>
                    </div>

                    <!-- Email -->
                    <div class="contact-field field-email">
                        <i class="input-icon fa fa-envelope"></i>
                        <input type="email" id="contact-email" name="email" class="input-field" placeholder="Email Address" required>
                        <span id="email-asterisk" class="asterisk">*</span>
                        <div id="contactEmailError" class="error-bubble contact-email">Enter a valid email address</div>
                    </div>

                    <!-- Subject (Optional) -->
                    <div class="contact-field">
                        <i class="input-icon fa fa-tag"></i>
                        <input type="text" id="subject" name="subject" class="input-field" placeholder="Subject (optional)">
                    </div>

                    <!-- Message -->
                    <div class="contact-field" style="height: 120px;">
                        <i class="input-icon fa fa-comment"></i>
                        <textarea name="message" id="message" class="input-field" placeholder="Your Message" required style="resize: none; height: 100%; "></textarea>
                        <span id="message-asterisk" class="asterisk">*</span>
                    </div>

                    <!-- Rating (Accessible) -->
                    <fieldset class="rating" role="radiogroup" aria-label="Rate your experience" style="padding-right: 0.5rem;">
                        <legend style="color:white;padding: 0rem 0.3rem">How would you rate your experience?</legend>
                        <?php
                        $name = 'rating'; // any name for input
                        $max = 5;
                        include  ROOT . '/subpages/component/star-rating.php';
                        ?>
                        <span id="rating-asterisk" class="asterisk">*</span>
                    </fieldset>
                    <div class="btn">
                        <button class="button1" type="submit">SUBMIT</button>
                    </div>
                    <div id="contact-feedback" class="fade-message">
                        <?php if (isset($_GET['success']) && $_GET['success'] == 1): ?>
                            Thank you! Your message has been received.
                        <?php elseif (isset($_GET['error'])): ?>
                            Something went wrong. Try again later.
                        <?php endif; ?>
                    </div>
                </form>
            </section>
        </section>
    </div>
    <?php require_once ROOT . '/include/footer.php'; ?>
</body>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector('.contact-form');
        const name = document.getElementById("name");
        const email = document.getElementById("contact-email");
        const message = document.getElementById("message");
        const ratingInputs = document.querySelectorAll('input[name="rating"]');

        const emailBubble = document.getElementById("contactEmailError");
        const emailPattern = /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/;

        const asteriskName = document.getElementById("name-asterisk");
        const asteriskEmail = document.getElementById("email-asterisk");
        const asteriskMessage = document.getElementById("message-asterisk");
        const asteriskRating = document.getElementById("rating-asterisk");

        const feedback = document.getElementById("contact-feedback");
        if (feedback && feedback.textContent.trim() !== "") {
            setTimeout(() => {
                feedback.classList.add("hide");
            }, 3000);
        }


        // Utility
        function showAsterisk(el) {
            el.style.display = "inline";
        }

        function hideAsterisk(el) {
            el.style.display = "none";
        }

        function showError(el) {
            el.style.display = "block";
        }

        function hideError(el) {
            el.style.display = "none";
        }

        // === Name Field ===
        name.addEventListener('blur', () => {
            if (name.value.trim() === "") showAsterisk(asteriskName);
        });

        name.addEventListener('input', () => {
            name.classList.remove("error");
            hideAsterisk(asteriskName);
        });

        // === Message Field ===
        message.addEventListener('blur', () => {
            if (message.value.trim() === "") showAsterisk(asteriskMessage);
        });

        message.addEventListener('input', () => {
            message.classList.remove("error");
            hideAsterisk(asteriskMessage);
        });

        // === Email Field ===
        email.addEventListener('blur', () => {
            if (email.value.trim() === "") {
                showAsterisk(asteriskEmail);
            } else if (!emailPattern.test(email.value)) {
                email.classList.add("error");
                showError(emailBubble);
            }
        });

        email.addEventListener('input', () => {
            email.value = email.value.toLowerCase().replace(/[^a-z0-9._%+\-@]/g, '');
            email.classList.remove("error");
            hideAsterisk(asteriskEmail);
            hideError(emailBubble);
        });

        // === Rating ===
        ratingInputs.forEach(input => {
            input.addEventListener('change', () => hideAsterisk(asteriskRating));
        });

        // === Form Submit ===
        form.addEventListener('submit', (e) => {
            let hasError = false;

            if (name.value.trim() === "") {
                name.classList.add("error");
                showAsterisk(asteriskName);
                hasError = true;
            }

            if (email.value.trim() === "") {
                email.classList.add("error");
                showAsterisk(asteriskEmail);
                showError(emailBubble);
                hasError = true;
            } else if (!emailPattern.test(email.value)) {
                email.classList.add("error");
                showError(emailBubble);
                hasError = true;
            }

            if (message.value.trim() === "") {
                message.classList.add("error");
                showAsterisk(asteriskMessage);
                hasError = true;
            }

            const ratingSelected = [...ratingInputs].some(input => input.checked);
            if (!ratingSelected) {
                showAsterisk(asteriskRating);
                hasError = true;
            }

            if (hasError) e.preventDefault();
        });

        // === Social Icons: Tab + Enter ===
        document.querySelectorAll(".icon-content a").forEach(link => {
            link.addEventListener('keydown', (e) => {
                if (e.key === "Enter") link.click();
            });

            link.addEventListener('focus', () => {
                link.parentElement.classList.add("focused");
            });
            link.addEventListener('blur', () => {
                link.parentElement.classList.remove("focused");
            });
        });
    });
</script>


</html>